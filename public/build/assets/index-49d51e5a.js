import{_ as Z}from"./MoreBtn-010b8dd5.js";import{j as r,a2 as L,A as I,y as ee,o as x,c as _,n as l,w as o,F as T,a as E,p as n,H as p,G as B,Q as k,l as t,K as te,L as le,x as c,r as ae,q as se,b as oe,V as ne}from"./main-edf7a918.js";import{_ as ie}from"./AddNewUserDrawer-569be48a.js";import{u as re}from"./useUserListStore-42ed9a30.js";import{a as ce}from"./formatters-33197472.js";import{a as h,V as D}from"./VRow-95e48620.js";import{V as z,d as S}from"./VCard-168b6136.js";import{V as C}from"./VSelect-295f5731.js";import{V as P}from"./VDivider-1a3d52ac.js";import{V as ue}from"./VSpacer-cd3d7120.js";import{V as de}from"./VTextField-457ca700.js";import{V as pe}from"./VTable-9e2d2e89.js";import{V as O}from"./VCheckbox-8fbf8b3f.js";import{V as me}from"./VPagination-efdd592b.js";import{V as $}from"./VAvatar-a0e54144.js";import{V as ve}from"./VImg-c738de9a.js";import{V as fe}from"./VChip-743205b4.js";import"./VMenu-2b6a4453.js";import"./forwardRefs-8f7055de.js";import"./VOverlay-729d98f7.js";import"./lazy-21e4bc45.js";import"./easing-6b01f2d6.js";import"./transition-a51ab259.js";import"./dialog-transition-9ffc684e.js";import"./VList-c8c5940d.js";import"./AppDrawerHeaderSection-db9e3bc1.js";import"./validators-50c95554.js";import"./index-61e4df1a.js";import"./VForm-3ec30119.js";import"./form-130b39c8.js";import"./VNavigationDrawer-01c3b33a.js";import"./ssrBoot-b343f022.js";import"./VCheckboxBtn-11469801.js";import"./VSelectionControl-e31052c4.js";import"./VInput-69f8a183.js";/* empty css                   */import"./VField-45dcdeb2.js";import"./VCounter-4c0bd440.js";const xe={class:"d-flex align-center gap-2"},_e={class:"text-h6"},he={class:"text-sm"},ge={class:"app-user-search-filter d-flex align-center"},Ve={scope:"col",style:{width:"48px"}},be=t("th",{scope:"col"}," USER ",-1),we=t("th",{scope:"col"}," ROLE ",-1),ye=t("th",{scope:"col"}," PLAN ",-1),Ue=t("th",{scope:"col"}," BILLING ",-1),ke=t("th",{scope:"col"}," STATUS ",-1),Se=t("th",{scope:"col"}," ACTIONS ",-1),Ce={class:"d-flex align-center"},Le={key:1,class:"text-sm"},Pe={class:"d-flex flex-column"},$e={class:"text-sm"},Ae={class:"text-xs text-medium-emphasis"},Ne={class:"text-capitalize text-base"},Re={class:"text-capitalize text-high-emphasis"},Ie={class:"text-base"},Te={class:"text-base text-high-emphasis"},Ee={class:"text-center",style:{width:"80px"}},Be=t("tr",null,[t("td",{colspan:"7",class:"text-center text-body-1"}," No data available ")],-1),De=[Be],ze={class:"d-flex align-center",style:{width:"171px"}},Oe=t("span",{class:"text-no-wrap text-sm me-3"},"Rows per page:",-1),Fe={class:"d-flex align-center"},Me={class:"text-sm font-weight-regular"},Pt={__name:"index",setup(je){const A=re(),g=r(""),V=r(),b=r(),w=r(),m=r(10),u=r(1),v=r(1),N=r(0),d=r([]),R=()=>{A.fetchUsers({q:g.value,status:w.value,plan:b.value,role:V.value,perPage:m.value,currentPage:u.value}).then(s=>{d.value=s.data.users,v.value=s.data.totalPage,N.value=s.data.totalUsers}).catch(s=>{console.error(s)})};L(R),L(()=>{u.value>v.value&&(u.value=v.value)});const F=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],M=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],j=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],y=s=>{const a=s.toLowerCase();return a==="subscriber"?{color:"primary",icon:"bx-user"}:a==="author"?{color:"warning",icon:"bx-cog"}:a==="maintainer"?{color:"success",icon:"bx-doughnut-chart"}:a==="editor"?{color:"info",icon:"bx-pencil"}:a==="admin"?{color:"error",icon:"bx-laptop"}:{color:"primary",icon:"bx-user"}},q=s=>{const a=s.toLowerCase();return a==="pending"?"warning":a==="active"?"success":a==="inactive"?"secondary":"primary"},U=r(!1);L(()=>{u.value>v.value&&(u.value=v.value)});const G=I(()=>{const s=d.value.length?(u.value-1)*m.value+1:0,a=d.value.length+(u.value-1)*m.value;return`${s}-${a} of ${N.value}`}),i=r([]),f=r(!1),Q=()=>{f.value=!f.value,f.value?d.value.forEach(s=>{i.value.includes(`check${s.id}`)||i.value.push(`check${s.id}`)}):i.value=[]};ee(i,()=>{i.value.length||(f.value=!1)},{deep:!0});const H=s=>{if(i.value.includes(s)){const a=i.value.indexOf(s);i.value.splice(a,1)}else i.value.push(s),f.value=!0},K=s=>{A.addUser(s),R()},J=I(()=>s=>[{title:"View",value:"view",prependIcon:"bx-show",to:{name:"apps-user-view-id",params:{id:s}}},{title:"Edit",value:"edit",prependIcon:"bx-pencil"},{title:"Delete",value:"delete",prependIcon:"bx-trash-alt"}]),W=[{icon:"bx-user",color:"primary",title:"Session",stats:"21,459",percentage:29,subtitle:"Total Users"},{icon:"bx-user-plus",color:"error",title:"Paid Users",stats:"4,567",percentage:18,subtitle:"Last week analytics"},{icon:"bx-user-check",color:"success",title:"Active Users",stats:"19,860",percentage:-14,subtitle:"Last week analytics"},{icon:"bx-user-voice",color:"warning",title:"Pending Users",stats:"237",percentage:42,subtitle:"Last week analytics"}];return(s,a)=>{const X=ae("RouterLink"),Y=Z;return x(),_("section",null,[l(D,null,{default:o(()=>[(x(),_(T,null,E(W,e=>l(h,{key:e.title,cols:"12",sm:"6",lg:"3"},{default:o(()=>[l(z,null,{default:o(()=>[l(S,{class:"d-flex justify-space-between"},{default:o(()=>[t("div",null,[t("span",null,c(e.title),1),t("div",xe,[t("h6",_e,c(e.stats),1),t("span",{class:se([e.percentage>0?"text-success":"text-error","text-sm"])},"("+c(e.percentage>0?`+${e.percentage}`:e.percentage)+"%)",3)]),t("span",he,c(e.subtitle),1)]),l($,{rounded:"",variant:"tonal",color:e.color,icon:e.icon},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),l(h,{cols:"12"},{default:o(()=>[l(z,{title:"Search Filters"},{default:o(()=>[l(S,null,{default:o(()=>[l(D,null,{default:o(()=>[l(h,{cols:"12",sm:"4"},{default:o(()=>[l(C,{modelValue:n(V),"onUpdate:modelValue":a[0]||(a[0]=e=>p(V)?V.value=e:null),label:"Select Role",items:F,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1}),l(h,{cols:"12",sm:"4"},{default:o(()=>[l(C,{modelValue:n(b),"onUpdate:modelValue":a[1]||(a[1]=e=>p(b)?b.value=e:null),label:"Select Plan",items:M,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1}),l(h,{cols:"12",sm:"4"},{default:o(()=>[l(C,{modelValue:n(w),"onUpdate:modelValue":a[2]||(a[2]=e=>p(w)?w.value=e:null),label:"Select Status",items:j,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(P),l(S,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[l(B,{variant:"tonal",color:"secondary","prepend-icon":"bx-arrow-from-bottom"},{default:o(()=>[k(" Export ")]),_:1}),l(ue),t("div",ge,[l(de,{modelValue:n(g),"onUpdate:modelValue":a[3]||(a[3]=e=>p(g)?g.value=e:null),placeholder:"Search User",density:"compact",class:"me-3"},null,8,["modelValue"]),l(B,{onClick:a[4]||(a[4]=e=>U.value=!0)},{default:o(()=>[k(" Add User ")]),_:1})])]),_:1}),l(P),l(pe,{class:"text-no-wrap",height:"27rem","fixed-header":""},{default:o(()=>[t("thead",null,[t("tr",null,[t("th",Ve,[l(O,{"model-value":n(f),indeterminate:n(d).length!==n(i).length&&!!n(i).length,class:"mx-1",onClick:Q},null,8,["model-value","indeterminate"])]),be,we,ye,Ue,ke,Se])]),t("tbody",null,[(x(!0),_(T,null,E(n(d),e=>(x(),_("tr",{key:e.id},[t("td",null,[l(O,{id:`check${e.id}`,"model-value":n(i).includes(`check${e.id}`),class:"mx-1",onClick:qe=>H(`check${e.id}`)},null,8,["id","model-value","onClick"])]),t("td",null,[t("div",Ce,[l($,{variant:"tonal",color:y(e.role).color,class:"me-3",size:"34"},{default:o(()=>[e.avatar?(x(),oe(ve,{key:0,src:e.avatar},null,8,["src"])):(x(),_("span",Le,c(n(ce)(e.fullName)),1))]),_:2},1032,["color"]),t("div",Pe,[t("h6",$e,[l(X,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium user-list-name"},{default:o(()=>[k(c(e.fullName),1)]),_:2},1032,["to"])]),t("span",Ae,c(e.email),1)])])]),t("td",null,[l($,{variant:"tonal",color:y(e.role).color,class:"me-3",size:"30"},{default:o(()=>[l(ne,{icon:y(e.role).icon,color:y(e.role).color,size:"18"},null,8,["icon","color"])]),_:2},1032,["color"]),t("span",Ne,c(e.role),1)]),t("td",Re,[t("span",Ie,c(e.currentPlan),1)]),t("td",null,[t("span",Te,c(e.billing),1)]),t("td",null,[l(fe,{color:q(e.status),density:"compact",label:"",class:"text-uppercase"},{default:o(()=>[k(c(e.status),1)]),_:2},1032,["color"])]),t("td",Ee,[l(Y,{"menu-list":n(J)(e.id),"item-props":""},null,8,["menu-list"])])]))),128))]),te(t("tfoot",null,De,512),[[le,!n(d).length]])]),_:1}),l(P),l(S,{class:"d-flex flex-wrap justify-end gap-4 pa-2"},{default:o(()=>[t("div",ze,[Oe,l(C,{modelValue:n(m),"onUpdate:modelValue":a[5]||(a[5]=e=>p(m)?m.value=e:null),density:"compact",class:"per-page-select",variant:"plain",items:[10,20,30,50]},null,8,["modelValue"])]),t("div",Fe,[t("h6",Me,c(n(G)),1)]),l(me,{modelValue:n(u),"onUpdate:modelValue":a[6]||(a[6]=e=>p(u)?u.value=e:null),size:"small","total-visible":1,length:n(v),onNext:a[7]||(a[7]=e=>i.value=[]),onPrev:a[8]||(a[8]=e=>i.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{isDrawerOpen:n(U),"onUpdate:isDrawerOpen":a[9]||(a[9]=e=>p(U)?U.value=e:null),onUserData:K},null,8,["isDrawerOpen"])])}}};export{Pt as default};
