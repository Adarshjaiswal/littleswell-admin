import{j as r,a2 as w,A as N,p as c,o as _,b as A,w as o,n as e,Q as h,c as x,a as y,F as I,G as $,l as t,V as p,K as E,L as R,H as S,x as i,D as U,r as D,Z as z}from"./main-edf7a918.js";import{u as F}from"./useInvoiceStore-4b4d5817.js";import{V as j}from"./VMenu-2b6a4453.js";import{V as O,a as Q,b as X}from"./VList-c8c5940d.js";import{V as P}from"./VDivider-1a3d52ac.js";import{V as q}from"./VTable-9e2d2e89.js";import{V as G}from"./VSelect-295f5731.js";import{V as H}from"./VPagination-efdd592b.js";import{d as K,V as M}from"./VCard-168b6136.js";import{V as Z}from"./VTooltip-fcb72b0e.js";import{V as J}from"./VAvatar-a0e54144.js";import"./forwardRefs-8f7055de.js";import"./VOverlay-729d98f7.js";import"./lazy-21e4bc45.js";import"./easing-6b01f2d6.js";import"./transition-a51ab259.js";import"./dialog-transition-9ffc684e.js";import"./VTextField-457ca700.js";/* empty css                   */import"./VField-45dcdeb2.js";import"./VInput-69f8a183.js";import"./form-130b39c8.js";import"./VImg-c738de9a.js";import"./VCounter-4c0bd440.js";import"./VCheckboxBtn-11469801.js";import"./VSelectionControl-e31052c4.js";import"./VChip-743205b4.js";const W=t("th",{scope:"col"}," #ID ",-1),Y={scope:"col"},tt=t("th",{scope:"col",class:"text-center"}," TOTAL ",-1),et=t("th",{scope:"col",class:"text-center"}," ISSUED DATE ",-1),at=t("th",{scope:"col"},[t("span",{class:"ms-2"},"ACTIONS")],-1),ot={class:"mb-0"},nt={class:"mb-0"},st={class:"mb-0"},lt={class:"text-center"},rt={class:"text-center"},it={style:{width:"7.5rem"}},ct=t("tr",null,[t("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),dt=[ct],ut={class:"d-flex align-center",style:{width:"171px"}},pt=t("span",{class:"text-no-wrap text-sm me-3"},"Rows per page:",-1),mt={class:"d-flex align-center"},vt={class:"text-sm font-weight-regular"},Qt={__name:"UserInvoiceTable",setup(_t){const L=F(),T=r(""),k=r(""),d=r(10),l=r(1),m=r(1),V=r(0),u=r([]),g=r([]);w(()=>{L.fetchInvoices({q:T.value,status:k.value,perPage:d.value,currentPage:l.value}).then(n=>{u.value=n.data.invoices,m.value=n.data.totalPage,V.value=n.data.totalInvoices}).catch(n=>{console.log(n)})}),w(()=>{l.value>m.value&&(l.value=m.value)});const B=N(()=>{const n=u.value.length?(l.value-1)*d.value+1:0,s=u.value.length+(l.value-1)*d.value;return`${n}-${s} of ${V.value}`}),b=n=>n==="Partial Payment"?{variant:"warning",icon:"bx-line-chart"}:n==="Paid"?{variant:"success",icon:"bx-check"}:n==="Downloaded"?{variant:"info",icon:"bx-down-arrow-alt"}:n==="Draft"?{variant:"secondary",icon:"bx-save"}:n==="Sent"?{variant:"primary",icon:"bx-envelope"}:n==="Past Due"?{variant:"error",icon:"bx-error-circle"}:{variant:"secondary",icon:"bx-x"};return(n,s)=>{const C=D("RouterLink"),f=D("IconBtn");return c(u)?(_(),A(M,{key:0,id:"invoice-list",title:"Invoice List"},{append:o(()=>[e($,{color:"primary","append-icon":"bx-chevron-down"},{default:o(()=>[h(" Export "),e(j,{activator:"parent"},{default:o(()=>[e(O,{density:"compact"},{default:o(()=>[(_(),x(I,null,y(["PDF","XLSX","CSV"],(a,v)=>e(Q,{key:v,value:v},{default:o(()=>[e(X,null,{default:o(()=>[h(i(a),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})]),default:o(()=>[e(P),e(q,{class:"text-no-wrap",height:"27rem","fixed-header":""},{default:o(()=>[t("thead",null,[t("tr",null,[W,t("th",Y,[e(p,{icon:"bx-trending-up"})]),tt,et,at])]),t("tbody",null,[(_(!0),x(I,null,y(c(u),a=>(_(),x("tr",{key:a.id},[t("td",null,[e(C,{to:{name:"apps-invoice-preview-id",params:{id:a.id}}},{default:o(()=>[h(" #"+i(a.id),1)]),_:2},1032,["to"])]),t("td",null,[e(Z,null,{activator:o(({props:v})=>[e(J,z({size:34},v,{color:b(a.invoiceStatus).variant,variant:"tonal"}),{default:o(()=>[e(p,{size:20,icon:b(a.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:o(()=>[t("p",ot,i(a.invoiceStatus),1),t("p",nt," Balance: "+i(a.balance),1),t("p",st," Due date: "+i(a.dueDate),1)]),_:2},1024)]),t("td",lt," $"+i(a.total),1),t("td",rt,i(a.issuedDate),1),t("td",it,[e(f,null,{default:o(()=>[e(p,{icon:"bx-send"})]),_:1}),e(f,{to:{name:"apps-invoice-preview-id",params:{id:a.id}}},{default:o(()=>[e(p,{icon:"bx-show"})]),_:2},1032,["to"]),e(f,null,{default:o(()=>[e(p,{icon:"bx-download"})]),_:1})])]))),128))]),E(t("tfoot",null,dt,512),[[R,!c(u).length]])]),_:1}),e(P),e(K,{class:"d-flex flex-wrap justify-end gap-4 pa-2"},{default:o(()=>[t("div",ut,[pt,e(G,{modelValue:c(d),"onUpdate:modelValue":s[0]||(s[0]=a=>S(d)?d.value=a:null),density:"compact",class:"per-page-select",variant:"plain",items:[10,20,30,50]},null,8,["modelValue"])]),t("div",mt,[t("h6",vt,i(c(B)),1)]),e(H,{modelValue:c(l),"onUpdate:modelValue":s[1]||(s[1]=a=>S(l)?l.value=a:null),size:"small","total-visible":1,length:c(m),onNext:s[2]||(s[2]=a=>g.value=[]),onPrev:s[3]||(s[3]=a=>g.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})):U("",!0)}}};export{Qt as default};
