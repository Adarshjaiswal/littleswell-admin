import{j as s,a2 as U,A as O,y as B,o as w,c as D,n as l,w as r,p as o,b as F,Q as S,H as p,D as Q,l as e,F as M,a as $,K as j,L as H,x as c,r as q}from"./main-edf7a918.js";import J from"./userDrawer-57b979f0.js";import{u as K}from"./useUserListStore-42ed9a30.js";import{V as R}from"./VSnackbar-e7b37846.js";import{a as Y,V as G}from"./VRow-95e48620.js";import{V as W,d as k}from"./VCard-168b6136.js";import{V as X}from"./VSpacer-cd3d7120.js";import{V as Z}from"./VTextField-457ca700.js";import{V as C}from"./VDivider-1a3d52ac.js";import{V as ee}from"./VTable-9e2d2e89.js";import{V as te}from"./VSelect-295f5731.js";import{V as ae}from"./VPagination-efdd592b.js";import"./AppDrawerHeaderSection-db9e3bc1.js";import"./validators-50c95554.js";import"./index-61e4df1a.js";import"./VForm-3ec30119.js";import"./form-130b39c8.js";import"./forwardRefs-8f7055de.js";import"./VNavigationDrawer-01c3b33a.js";import"./ssrBoot-b343f022.js";import"./VAvatar-a0e54144.js";import"./VImg-c738de9a.js";import"./transition-a51ab259.js";/* empty css                   */import"./VField-45dcdeb2.js";import"./VInput-69f8a183.js";import"./easing-6b01f2d6.js";import"./VCounter-4c0bd440.js";import"./VList-c8c5940d.js";import"./dialog-transition-9ffc684e.js";import"./VMenu-2b6a4453.js";import"./VOverlay-729d98f7.js";import"./lazy-21e4bc45.js";import"./VCheckboxBtn-11469801.js";import"./VSelectionControl-e31052c4.js";import"./VChip-743205b4.js";const se={class:"app-user-search-filter d-flex align-center"},le=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," SR. NO. "),e("th",{scope:"col"}," NAME "),e("th",{scope:"col"}," DOB "),e("th",{scope:"col"}," EMAIL "),e("th",{scope:"col"}," PHONE NUMBER "),e("th",{scope:"col"}," LOCATION "),e("th",{scope:"col"}," CREATED AT ")])],-1),oe={class:"text-capitalize text-base"},re={class:"text-capitalize text-high-emphasis"},ne={class:"text-capitalize text-base"},ie={class:"text-capitalize text-high-emphasis"},ce={class:"text-base"},de={class:"text-high-emphasis"},ue={class:"text-base"},pe={class:"text-capitalize text-high-emphasis"},me={class:"text-base"},he={class:"text-base text-high-emphasis"},fe={class:"text-center"},ve={class:"text-center text-high-emphasis"},_e=e("tr",null,[e("td",{colspan:"7",class:"text-center text-body-1"}," No data available ")],-1),xe=[_e],Ve={class:"d-flex align-center",style:{"inline-size":"171px"}},ge=e("span",{class:"text-no-wrap text-sm me-3"},"Rows per page:",-1),we={class:"d-flex align-center"},be={class:"text-sm text-no-wrap me-3"},ye={class:"d-flex align-center"},nt={__name:"index",setup(Ue){const P=K(),V=s("");s(),s(),s();const d=s(10),u=s(1),m=s(1),E=s(1),b=s(0),f=s([]);let v=s(!1);const h=s(!1),_=s(!1),x=s(u.value);s();let L=s(!1);const g=s(!1),T=n=>{N(x.value,d.value).then(()=>{_.value=!0,g.value=!1}).catch(()=>{h.value=!0})},I=n=>{const a={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(n).toLocaleString("en-US",a)},N=(n,a)=>{L.value=!0;const y=n.toString(),t={searchQuery:V.value};P.fetchUsers(y,a,t).then(i=>{f.value=i.data.users_data.data,E.value=i.data.users_data.current_page,m.value=i.data.users_data.last_page,b.value=i.data.users_data.total,i.status===200?_.value=!0:h.value=!0}).catch(i=>{h.value=!0}).finally(()=>L.value=!1)};U(()=>{N(x.value,d.value)}),U(()=>{u.value>m.value&&(u.value=m.value)}),U(()=>{u.value>m.value&&(u.value=m.value)}),O(()=>{const n=f.value.length?(u.value-1)*d.value+1:0,a=f.value.length+(u.value-1)*d.value;return`${n}-${a} of ${b.value}`});const A=s([]),z=s(!1);return B(A,()=>{A.value.length||(z.value=!1)},{deep:!0}),O(()=>n=>[{title:"View",value:"view",prependIcon:"bx-show",to:{name:"apps-user-view-id",params:{id:n}}},{title:"Edit",value:"edit",prependIcon:"bx-pencil"},{title:"Delete",value:"delete",prependIcon:"bx-trash-alt"}]),(n,a)=>{const y=q("RouterLink");return w(),D("section",null,[l(G,null,{default:r(()=>[o(v)?(w(),F(R,{key:0,modelValue:o(v),"onUpdate:modelValue":a[0]||(a[0]=t=>p(v)?v.value=t:v=t),location:"top end",variant:"flat",color:"error"},{default:r(()=>[S(" Please First Verify Your Adhar :( ")]),_:1},8,["modelValue"])):Q("",!0),l(R,{modelValue:o(h),"onUpdate:modelValue":a[1]||(a[1]=t=>p(h)?h.value=t:null),location:"top end",variant:"flat",color:"error"},{default:r(()=>[S(" Some Error Occured :( ")]),_:1},8,["modelValue"]),l(R,{modelValue:o(_),"onUpdate:modelValue":a[2]||(a[2]=t=>p(_)?_.value=t:null),location:"top end",variant:"flat",color:"success"},{default:r(()=>[S(" Request Sucessful :) ")]),_:1},8,["modelValue"]),l(Y,{cols:"12"},{default:r(()=>[l(W,{title:"All Users"},{default:r(()=>[l(k,{class:"d-flex flex-wrap gap-4"},{default:r(()=>[l(X),e("div",se,[l(Z,{modelValue:o(V),"onUpdate:modelValue":a[3]||(a[3]=t=>p(V)?V.value=t:null),placeholder:"Search User",density:"compact",class:"me-3"},null,8,["modelValue"])])]),_:1}),l(C),l(ee,{class:"text-no-wrap",height:"23.7rem","fixed-header":""},{default:r(()=>[le,e("tbody",null,[(w(!0),D(M,null,$(o(f),(t,i)=>(w(),D("tr",{key:t.id},[e("td",null,[e("span",oe,c((o(E)-1)*10+i+1),1)]),e("td",re,[l(y,{to:{name:"apps-user-view-id",params:{id:t.id}}},{default:r(()=>[e("span",ne,c(t.name),1)]),_:2},1032,["to"])]),e("td",ie,[e("span",ce,c(t.dob),1)]),e("td",de,[e("span",ue,c(t.email),1)]),e("td",pe,[e("span",me,c(t.phone_number),1)]),e("td",null,[e("span",he,c(t.location),1)]),e("td",fe,[e("span",ve,c(I(t.created_at)),1)])]))),128))]),j(e("tfoot",null,xe,512),[[H,!o(f).length]])]),_:1}),l(C),l(k,{class:"d-flex flex-wrap justify-end gap-4 pa-2"},{default:r(()=>[e("div",Ve,[ge,l(te,{modelValue:o(d),"onUpdate:modelValue":a[4]||(a[4]=t=>p(d)?d.value=t:null),density:"compact",class:"per-page-select",variant:"plain",items:[10,20,30,50]},null,8,["modelValue"])]),e("div",we,[e("span",be,"Total Data: "+c(o(b)),1)]),e("div",ye,[l(ae,{modelValue:o(x),"onUpdate:modelValue":a[5]||(a[5]=t=>p(x)?x.value=t:null),length:o(m),color:"primary","prev-icon":"mdi-chevron-left","next-icon":"mdi-chevron-right","first-icon":"mdi-chevron-double-left","last-icon":"mdi-chevron-double-right"},null,8,["modelValue","length"])])]),_:1})]),_:1})]),_:1})]),_:1}),l(J,{isDrawerOpen:o(g),"onUpdate:isDrawerOpen":a[6]||(a[6]=t=>p(g)?g.value=t:null),onUserData:T},null,8,["isDrawerOpen"])])}}};export{nt as default};
